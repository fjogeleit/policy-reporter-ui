import{_ as T}from"./Search.vue.f75a0caa.js";import{d as B,r as S,aH as k,N as I,H as f,t as o,O as x,A as l,V as P,x as U,y as _,P as V,v as p,Q as e,R as $,S as D,ah as E,c as F,z as t,ac as H,a5 as O,aB as Q,B as v,X as m,aD as z,Y as G,a9 as C,aG as J,aI as M,aJ as W,aK as X,a0 as Y,_ as j}from"./entry.a7ce8945.js";import{d as q}from"./index.e83dc9cb.js";import{_ as Z}from"./ResultChip.vue.527b52bf.js";import{S as y}from"./mapper.f869c811.js";const ee={key:1,class:"text-caption align-self-center"},te=B({__name:"ClusterKindAutocomplete",props:{source:{type:String,default:void 0}},setup(A){const c=A,s=S(k.value),R=S(!0),{data:u}=I(n=>n.clusterKinds(c.source),{default:()=>[],finally:()=>{R.value=!1}}),i=q("cluster-kinds",s);return f(u,n=>{i(s.value.filter(r=>n.includes(r)))}),f(s,n=>{k.value=n}),(n,r)=>(o(),x(D,$({multiple:"",clearable:"",density:"compact",items:e(u),variant:"outlined","hide-details":"",label:"Kinds","closable-chips":"","model-value":e(s),"onUpdate:modelValue":e(i)},n.$attrs),{selection:l(({item:d,index:g})=>[g<2?(o(),x(P,{key:0},{default:l(()=>[U("span",null,_(d.title),1)]),_:2},1024)):V("",!0),g===2?(o(),p("span",ee," (+"+_(e(s).length-2)+" others) ",1)):V("",!0)]),_:1},16,["items","model-value","onUpdate:modelValue"]))}}),ue=B({__name:"ClusterResourceResultList",setup(A){const c=S(""),s=E({page:1,offset:15}),R=F(()=>{var r;return Math.ceil((((r=u.value)==null?void 0:r.count)||0)/s.offset)}),{data:u,refresh:i,pending:n}=I(r=>r.clusterResourceResults({kinds:k.value,search:c.value},s),{default:()=>({items:[],count:0})});return f(k,()=>{if(s.page!==1){s.page=1;return}i()}),f(c,()=>{if(s.page!==1){s.page=1;return}i()}),f(s,i),(r,d)=>{const g=T,K=te,h=Z;return o(),x(j,null,{default:l(()=>{var w,L,N,b;return[t(H,{color:"transparent"},{append:l(()=>[t(g,{class:"mr-2",modelValue:e(c),"onUpdate:modelValue":d[0]||(d[0]=a=>O(c)?c.value=a:null),style:{"min-width":"300px"}},null,8,["modelValue"]),t(K,{style:{"min-width":"300px"}})]),default:l(()=>[t(Q,null,{default:l(()=>[v("Cluster Resources")]),_:1})]),_:1}),(L=(w=e(u))==null?void 0:w.items)!=null&&L.length?(o(),p(m,{key:0},[t(z,{lines:"two"},{default:l(()=>[(o(!0),p(m,null,G(e(u).items,a=>(o(),p(m,{key:a.id},[t(C),t(J,null,{append:l(()=>[t(h,{status:e(y).PASS,count:a.pass,tooltip:"pass results"},null,8,["status","count"]),t(h,{class:"ml-2",status:e(y).WARN,count:a.warn,tooltip:"warning results"},null,8,["status","count"]),t(h,{class:"ml-2",status:e(y).FAIL,count:a.fail,tooltip:"fail results"},null,8,["status","count"]),t(h,{class:"ml-2",status:e(y).ERROR,count:a.error,tooltip:"error results"},null,8,["status","count"])]),default:l(()=>[t(M,null,{default:l(()=>[v(_(a.name),1)]),_:2},1024),t(W,null,{default:l(()=>[v(_(a.apiVersion)+" "+_(a.kind),1)]),_:2},1024)]),_:2},1024)],64))),128))]),_:1}),e(u).count>e(s).offset?(o(),p(m,{key:0},[t(C),t(X,{modelValue:e(s).page,"onUpdate:modelValue":d[1]||(d[1]=a=>e(s).page=a),length:e(R),class:"my-4"},null,8,["modelValue","length"])],64)):V("",!0)],64)):V("",!0),!e(n)&&!((b=(N=e(u))==null?void 0:N.items)!=null&&b.length)?(o(),p(m,{key:1},[t(C),t(Y,null,{default:l(()=>[v(" No resources for the selected kinds found ")]),_:1})],64)):V("",!0)]}),_:1})}}});export{ue as default};
